<nz-card 
  [nzCover]="coverTemplate" 
  [nzActions]=actions
  nzHoverable
  >
  <nz-card-meta [nzTitle]="titleTemplate" [nzDescription]=project.description (click)="showModal('detail',project.p_id)"></nz-card-meta>
</nz-card>

<ng-template #titleTemplate>
  <span>{{project.p_name}}</span>
</ng-template>

<ng-template #coverTemplate>
  <div></div>
</ng-template>

<ng-template #actionJoin>
  <a nz-icon nzType="plus" (click)="onJoin(project.p_id)"></a>
</ng-template>

<!-- 进入详情页 -->
<ng-template #actionInfo>
  <a 
    nz-icon 
    nzType="unordered-list" 
    [routerLink]="['/project/tasks']" 
    [queryParams]="{ p_id: project.p_id, p_name: project.p_name, leaderId: leaderId, groupers: stringifyGroupers() }"
  ></a>
</ng-template>

<ng-template #actionEdit>
  <a nz-icon nzType="edit" (click)="showModal('edit',project.p_id)"></a>
</ng-template>

<ng-template #actionMember>
  <a
    nz-icon 
    nzType="user" 
    [routerLink]="['/project/members']" 
    [queryParams]="{ p_id: project.p_id, p_name: project.p_name, leaderId: leaderId, groupers: stringifyGroupers() }"
  ></a>
</ng-template>

<ng-template #actionDiscussion>
  <a 
    nz-icon 
    nzType="comment" 
    [routerLink]="['/project/discussions']" 
    [queryParams]="{ p_id: project.p_id, p_name: project.p_name, groupers: stringifyGroupers() }"
  ></a>
</ng-template>

<ng-template #actionDelete>
  <a nz-icon nzType="delete" (click)="deleteProject(project.p_id)"></a>
</ng-template>

<ng-template #actionFileMgmt>
  <a 
    nz-icon 
    nzType="download" 
    [routerLink]="['/project/files']" 
    [queryParams]="{ p_id: project.p_id, p_name: project.p_name, groupers: stringifyGroupers() }"
  ></a>
</ng-template>
